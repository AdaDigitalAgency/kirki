{"mappings":"mEAAAA,EAAeC,OCKd,WCFAC,EAAAF,EAAA,CAAO,yBAAyBG,GAAG,SAAS,WAC3CD,EAAAF,EAAA,CAAO,yBAAyBI,YAAY,UAC5CF,EAAAF,EAAA,CAAOK,MAAMC,SAAS,UAEtB,MAAMC,EAAOF,KAAKG,cAAc,KAChC,IAAKD,EAAM,OAEX,IAA+B,IAA3BA,EAAKE,KAAKC,QAAQ,KAAa,OAEnC,MAAMC,EAAYJ,EAAKE,KAAKG,UAAUL,EAAKE,KAAKC,QAAQ,KAAO,GAE/DR,EAAAF,EAAA,CAAO,+CAA+Ca,IACrD,UACA,QAGDX,EAAAF,EAAA,CAAO,iCAAmCW,EAAY,UAAUE,IAC/D,UACA,QAEF,IAEAC,OAAOC,iBAAiB,QAAQ,WAC/B,IAAIJ,EAAYG,OAAOE,SAASC,KAAKL,UAAU,GAC3CM,EAA2C,KAE1CP,IACJO,EAAuBC,SAASX,cAC/B,gCAGGU,GAAwBA,EAAqBE,QAAQC,MACxDV,EAAYO,EAAqBE,QAAQC,KAG1CV,EAAYA,GAAwB,YAGrCT,EAAAF,EAAA,CAAO,yBAAyBI,YAAY,UAC5CF,EAAAF,EAAA,CAAO,+BAAiCW,EAAY,UAAUL,SAC7D,UAGDJ,EAAAF,EAAA,CAAO,+CAA+Ca,IACrD,UACA,QAGDX,EAAAF,EAAA,CAAO,iCAAmCW,EAAY,UAAUE,IAC/D,UACA,QAEF,ID/CA,MAAMS,EAAUH,SAASX,cAAc,mCACvC,IAAKc,EAAS,OAEd,IAAIC,EAASD,EAAQd,cAAc,sBACnC,IAAKe,EAAQ,OAEb,MAAMC,EAASF,EAAQd,cAAc,2BACrC,IAAKgB,EAAQ,OAEbA,EAAOT,iBAAiB,SAKxB,SAAwBU,GACvB,GAAIC,EAAW,OACfA,GAAY,EAEZ,MAAMF,EAASnB,KACfmB,EAAOG,UAAUC,IAAI,cAEjBC,GACHf,OAAOgB,aAAaD,GAGrBA,EAAY,EAEZ,IAAIE,EAAO,CACVC,OAAQ,yBACRC,MAAOT,EAAOJ,QAAQa,OAGvBhC,OACEiC,KAAK,CACLC,IAAKC,QACLC,KAAM,OACNN,KAAMA,IAENO,MAAK,SAAUC,GACfC,EAAWD,EAAEE,QAAU,UAAY,QAASF,EAAER,KAC/C,IACCW,MAAK,SAAUH,GACfC,EAAW,QAAS,wBACrB,IACCG,QAAO,SAAUJ,GACjBb,GAAY,EACZF,EAAOG,UAAUiB,OAAO,cAExBf,EAAYf,OAAO+B,YAAW,YAajC,WACC,IAAKtB,EAAQ,OACbA,EAAOuB,YAAc,GACrBvB,EAAOI,UAAUiB,OAAO,cACxBrB,EAAOI,UAAUiB,OAAO,YACxBrB,EAAOI,UAAUC,IAAI,YACtB,CAlBImB,EACD,GAAG,IACJ,GACF,IAzCA,IAAIrB,GAAY,EACZG,EAAoB,EA0CxB,SAASW,EAAWQ,EAAgBF,GAC9BvB,IACLA,EAAOuB,YAAcA,EACrBvB,EAAOI,UAAUC,IAAe,YAAXoB,EAAuB,aAAe,YAC3DzB,EAAOI,UAAUiB,OAAO,aACzB,CASD,CAvEC,E","sources":["jQuery.js","packages/settings/src/settings.ts","packages/settings/src/tabs.ts"],"sourcesContent":["module.exports=jQuery;","import \"./settings.scss\";\r\nimport setupTabsNavigation from \"./tabs\";\r\n\r\ndeclare var ajaxurl: string;\r\n\r\n(function () {\r\n\tsetupTabsNavigation();\r\n\r\n\tconst metabox = document.querySelector(\".kirki-clear-font-cache-metabox\");\r\n\tif (!metabox) return;\r\n\r\n\tvar notice = metabox.querySelector(\".submission-status\");\r\n\tif (!notice) return;\r\n\r\n\tconst button = metabox.querySelector(\".kirki-clear-font-cache\");\r\n\tif (!button) return;\r\n\r\n\tbutton.addEventListener(\"click\", clearFontCache);\r\n\r\n\tlet doingAjax = false;\r\n\tlet timeoutId: number = 0;\r\n\r\n\tfunction clearFontCache(e: Event) {\r\n\t\tif (doingAjax) return;\r\n\t\tdoingAjax = true;\r\n\r\n\t\tconst button = this as HTMLButtonElement;\r\n\t\tbutton.classList.add(\"is-loading\");\r\n\r\n\t\tif (timeoutId) {\r\n\t\t\twindow.clearTimeout(timeoutId);\r\n\t\t}\r\n\r\n\t\ttimeoutId = 0;\r\n\r\n\t\tvar data = {\r\n\t\t\taction: \"kirki_clear_font_cache\",\r\n\t\t\tnonce: button.dataset.nonce,\r\n\t\t};\r\n\r\n\t\tjQuery\r\n\t\t\t.ajax({\r\n\t\t\t\turl: ajaxurl,\r\n\t\t\t\ttype: \"POST\",\r\n\t\t\t\tdata: data,\r\n\t\t\t})\r\n\t\t\t.done(function (r) {\r\n\t\t\t\tshowNotice(r.success ? \"success\" : \"error\", r.data);\r\n\t\t\t})\r\n\t\t\t.fail(function (r) {\r\n\t\t\t\tshowNotice(\"error\", \"Something went wrong.\");\r\n\t\t\t})\r\n\t\t\t.always(function (r) {\r\n\t\t\t\tdoingAjax = false;\r\n\t\t\t\tbutton.classList.remove(\"is-loading\");\r\n\r\n\t\t\t\ttimeoutId = window.setTimeout(function () {\r\n\t\t\t\t\thideNotice();\r\n\t\t\t\t}, 4000);\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction showNotice(status: string, textContent: string) {\r\n\t\tif (!notice) return;\r\n\t\tnotice.textContent = textContent;\r\n\t\tnotice.classList.add(status === \"success\" ? \"is-success\" : \"is-error\");\r\n\t\tnotice.classList.remove(\"is-hidden\");\r\n\t}\r\n\r\n\tfunction hideNotice() {\r\n\t\tif (!notice) return;\r\n\t\tnotice.textContent = \"\";\r\n\t\tnotice.classList.remove(\"is-success\");\r\n\t\tnotice.classList.remove(\"is-error\");\r\n\t\tnotice.classList.add(\"is-hidden\");\r\n\t}\r\n})();\r\n","import jQuery from \"jquery\";\r\n\r\nexport default function setupTabsNavigation() {\r\n\tjQuery(\".heatbox-tab-nav-item\").on(\"click\", function () {\r\n\t\tjQuery(\".heatbox-tab-nav-item\").removeClass(\"active\");\r\n\t\tjQuery(this).addClass(\"active\");\r\n\r\n\t\tconst link = this.querySelector(\"a\");\r\n\t\tif (!link) return;\r\n\r\n\t\tif (link.href.indexOf(\"#\") === -1) return;\r\n\r\n\t\tconst hashValue = link.href.substring(link.href.indexOf(\"#\") + 1);\r\n\r\n\t\tjQuery(\".heatbox-panel-wrapper .heatbox-admin-panel\").css(\r\n\t\t\t\"display\",\r\n\t\t\t\"none\"\r\n\t\t);\r\n\r\n\t\tjQuery(\".heatbox-panel-wrapper .kirki-\" + hashValue + \"-panel\").css(\r\n\t\t\t\"display\",\r\n\t\t\t\"block\"\r\n\t\t);\r\n\t});\r\n\r\n\twindow.addEventListener(\"load\", function () {\r\n\t\tlet hashValue = window.location.hash.substring(1);\r\n\t\tlet currentActiveTabMenu: HTMLElement | null = null;\r\n\r\n\t\tif (!hashValue) {\r\n\t\t\tcurrentActiveTabMenu = document.querySelector(\r\n\t\t\t\t\".heatbox-tab-nav-item.active\"\r\n\t\t\t);\r\n\r\n\t\t\tif (currentActiveTabMenu && currentActiveTabMenu.dataset.tab) {\r\n\t\t\t\thashValue = currentActiveTabMenu.dataset.tab;\r\n\t\t\t}\r\n\r\n\t\t\thashValue = hashValue ? hashValue : \"settings\";\r\n\t\t}\r\n\r\n\t\tjQuery(\".heatbox-tab-nav-item\").removeClass(\"active\");\r\n\t\tjQuery(\".heatbox-tab-nav-item.kirki-\" + hashValue + \"-panel\").addClass(\r\n\t\t\t\"active\"\r\n\t\t);\r\n\r\n\t\tjQuery(\".heatbox-panel-wrapper .heatbox-admin-panel\").css(\r\n\t\t\t\"display\",\r\n\t\t\t\"none\"\r\n\t\t);\r\n\r\n\t\tjQuery(\".heatbox-panel-wrapper .kirki-\" + hashValue + \"-panel\").css(\r\n\t\t\t\"display\",\r\n\t\t\t\"block\"\r\n\t\t);\r\n\t});\r\n}\r\n"],"names":["$0a2eb9defebd2c69$exports","jQuery","$parcel$interopDefault","on","removeClass","this","addClass","link","querySelector","href","indexOf","hashValue","substring","css","window","addEventListener","location","hash","currentActiveTabMenu","document","dataset","tab","metabox","notice","button","e","doingAjax","classList","add","timeoutId","clearTimeout","data","action","nonce","ajax","url","ajaxurl","type","done","r","showNotice","success","fail","always","remove","setTimeout","textContent","hideNotice","status"],"version":3,"file":"settings.js.map"}