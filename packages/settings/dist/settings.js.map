{"mappings":"mEAAAA,EAAeC,OCKd,WCFAC,EAAAF,EAAA,CAAO,yBAAyBG,GAAG,SAAS,WAC3CD,EAAAF,EAAA,CAAO,yBAAyBI,YAAY,UAC5CF,EAAAF,EAAA,CAAOK,MAAMC,SAAS,UAEtB,MAAMC,EAAOF,KAAKG,cAAc,KAChC,IAAKD,EAAM,OAEX,IAA+B,IAA3BA,EAAKE,KAAKC,QAAQ,KAAa,OAEnC,MAAMC,EAAYJ,EAAKE,KAAKG,UAAUL,EAAKE,KAAKC,QAAQ,KAAO,GAE/DR,EAAAF,EAAA,CAAO,+CAA+Ca,IACrD,UACA,QAGDX,EAAAF,EAAA,CAAO,iCAAmCW,EAAY,UAAUE,IAC/D,UACA,QAEF,IAEAC,OAAOC,iBAAiB,QAAQ,WAC/B,IAAIJ,EAAYG,OAAOE,SAASC,KAAKL,UAAU,GAC3CM,EAA2C,KAE1CP,IACJO,EAAuBC,SAASX,cAC/B,gCAGGU,GAAwBA,EAAqBE,QAAQC,MACxDV,EAAYO,EAAqBE,QAAQC,KAG1CV,EAAYA,GAAwB,YAGrCT,EAAAF,EAAA,CAAO,yBAAyBI,YAAY,UAC5CF,EAAAF,EAAA,CAAO,+BAAiCW,EAAY,UAAUL,SAC7D,UAGDJ,EAAAF,EAAA,CAAO,+CAA+Ca,IACrD,UACA,QAGDX,EAAAF,EAAA,CAAO,iCAAmCW,EAAY,UAAUE,IAC/D,UACA,QAEF,ID/CA,MAAMS,EAAUH,SAASX,cAAc,mCACvC,IAAKc,EAAS,OAEd,IAAIC,EAASD,EAAQd,cAAc,sBACnC,IAAKe,EAAQ,OAEb,MAAMC,EAASF,EAAQd,cAAc,2BACrC,IAAKgB,EAAQ,OAEbA,EAAOT,iBAAiB,SAKxB,SAAwBU,GACvB,GAAIC,EAAW,OACfA,GAAY,EAEZ,MAAMF,EAASnB,KACfmB,EAAOG,UAAUC,IAAI,cAEjBC,GACHf,OAAOgB,aAAaD,GAGrBA,EAAY,EAEZ,IAAIE,EAAO,CACVC,OAAQ,yBACRC,MAAOT,EAAOJ,QAAQa,OAGvBhC,OACEiC,KAAK,CACLC,IAAKC,QACLC,KAAM,OACNN,KAAMA,IAENO,MAAK,SAAUC,GACfC,EAAWD,EAAEE,QAAU,UAAY,QAASF,EAAER,KAC/C,IACCW,MAAK,SAAUH,GACfC,EAAW,QAAS,wBACrB,IACCG,QAAO,SAAUJ,GACjBb,GAAY,EACZF,EAAOG,UAAUiB,OAAO,cAExBf,EAAYf,OAAO+B,YAAW,YAajC,WACC,IAAKtB,EAAQ,OACbA,EAAOuB,YAAc,GACrBvB,EAAOI,UAAUiB,OAAO,cACxBrB,EAAOI,UAAUiB,OAAO,YACxBrB,EAAOI,UAAUC,IAAI,YACtB,CAlBImB,EACD,GAAG,IACJ,GACF,IAzCA,IAAIrB,GAAY,EACZG,EAAoB,EA0CxB,SAASW,EAAWQ,EAAgBF,GAC9BvB,IACLA,EAAOuB,YAAcA,EACrBvB,EAAOI,UAAUC,IAAe,YAAXoB,EAAuB,aAAe,YAC3DzB,EAAOI,UAAUiB,OAAO,aACzB,CASD,CAvEC,E","sources":["jQuery.js","packages/settings/src/settings.ts","packages/settings/src/tabs.ts"],"sourcesContent":["module.exports=jQuery;","import \"./settings.scss\";\nimport setupTabsNavigation from \"./tabs\";\n\ndeclare var ajaxurl: string;\n\n(function () {\n\tsetupTabsNavigation();\n\n\tconst metabox = document.querySelector(\".kirki-clear-font-cache-metabox\");\n\tif (!metabox) return;\n\n\tvar notice = metabox.querySelector(\".submission-status\");\n\tif (!notice) return;\n\n\tconst button = metabox.querySelector(\".kirki-clear-font-cache\");\n\tif (!button) return;\n\n\tbutton.addEventListener(\"click\", clearFontCache);\n\n\tlet doingAjax = false;\n\tlet timeoutId: number = 0;\n\n\tfunction clearFontCache(e: Event) {\n\t\tif (doingAjax) return;\n\t\tdoingAjax = true;\n\n\t\tconst button = this as HTMLButtonElement;\n\t\tbutton.classList.add(\"is-loading\");\n\n\t\tif (timeoutId) {\n\t\t\twindow.clearTimeout(timeoutId);\n\t\t}\n\n\t\ttimeoutId = 0;\n\n\t\tvar data = {\n\t\t\taction: \"kirki_clear_font_cache\",\n\t\t\tnonce: button.dataset.nonce,\n\t\t};\n\n\t\tjQuery\n\t\t\t.ajax({\n\t\t\t\turl: ajaxurl,\n\t\t\t\ttype: \"POST\",\n\t\t\t\tdata: data,\n\t\t\t})\n\t\t\t.done(function (r) {\n\t\t\t\tshowNotice(r.success ? \"success\" : \"error\", r.data);\n\t\t\t})\n\t\t\t.fail(function (r) {\n\t\t\t\tshowNotice(\"error\", \"Something went wrong.\");\n\t\t\t})\n\t\t\t.always(function (r) {\n\t\t\t\tdoingAjax = false;\n\t\t\t\tbutton.classList.remove(\"is-loading\");\n\n\t\t\t\ttimeoutId = window.setTimeout(function () {\n\t\t\t\t\thideNotice();\n\t\t\t\t}, 4000);\n\t\t\t});\n\t}\n\n\tfunction showNotice(status: string, textContent: string) {\n\t\tif (!notice) return;\n\t\tnotice.textContent = textContent;\n\t\tnotice.classList.add(status === \"success\" ? \"is-success\" : \"is-error\");\n\t\tnotice.classList.remove(\"is-hidden\");\n\t}\n\n\tfunction hideNotice() {\n\t\tif (!notice) return;\n\t\tnotice.textContent = \"\";\n\t\tnotice.classList.remove(\"is-success\");\n\t\tnotice.classList.remove(\"is-error\");\n\t\tnotice.classList.add(\"is-hidden\");\n\t}\n})();\n","import jQuery from \"jquery\";\n\nexport default function setupTabsNavigation() {\n\tjQuery(\".heatbox-tab-nav-item\").on(\"click\", function () {\n\t\tjQuery(\".heatbox-tab-nav-item\").removeClass(\"active\");\n\t\tjQuery(this).addClass(\"active\");\n\n\t\tconst link = this.querySelector(\"a\");\n\t\tif (!link) return;\n\n\t\tif (link.href.indexOf(\"#\") === -1) return;\n\n\t\tconst hashValue = link.href.substring(link.href.indexOf(\"#\") + 1);\n\n\t\tjQuery(\".heatbox-panel-wrapper .heatbox-admin-panel\").css(\n\t\t\t\"display\",\n\t\t\t\"none\"\n\t\t);\n\n\t\tjQuery(\".heatbox-panel-wrapper .kirki-\" + hashValue + \"-panel\").css(\n\t\t\t\"display\",\n\t\t\t\"block\"\n\t\t);\n\t});\n\n\twindow.addEventListener(\"load\", function () {\n\t\tlet hashValue = window.location.hash.substring(1);\n\t\tlet currentActiveTabMenu: HTMLElement | null = null;\n\n\t\tif (!hashValue) {\n\t\t\tcurrentActiveTabMenu = document.querySelector(\n\t\t\t\t\".heatbox-tab-nav-item.active\"\n\t\t\t);\n\n\t\t\tif (currentActiveTabMenu && currentActiveTabMenu.dataset.tab) {\n\t\t\t\thashValue = currentActiveTabMenu.dataset.tab;\n\t\t\t}\n\n\t\t\thashValue = hashValue ? hashValue : \"settings\";\n\t\t}\n\n\t\tjQuery(\".heatbox-tab-nav-item\").removeClass(\"active\");\n\t\tjQuery(\".heatbox-tab-nav-item.kirki-\" + hashValue + \"-panel\").addClass(\n\t\t\t\"active\"\n\t\t);\n\n\t\tjQuery(\".heatbox-panel-wrapper .heatbox-admin-panel\").css(\n\t\t\t\"display\",\n\t\t\t\"none\"\n\t\t);\n\n\t\tjQuery(\".heatbox-panel-wrapper .kirki-\" + hashValue + \"-panel\").css(\n\t\t\t\"display\",\n\t\t\t\"block\"\n\t\t);\n\t});\n}\n"],"names":["$0a2eb9defebd2c69$exports","jQuery","$parcel$interopDefault","on","removeClass","this","addClass","link","querySelector","href","indexOf","hashValue","substring","css","window","addEventListener","location","hash","currentActiveTabMenu","document","dataset","tab","metabox","notice","button","e","doingAjax","classList","add","timeoutId","clearTimeout","data","action","nonce","ajax","url","ajaxurl","type","done","r","showNotice","success","fail","always","remove","setTimeout","textContent","hideNotice","status"],"version":3,"file":"settings.js.map"}