!function(){function e(e){return e&&e.__esModule?e.default:e}const t=(e,t,a)=>{if(e.matches(t))return e;if("BODY"===e.tagName||"HTML"===e.tagName)return;let n;a=a||20;for(let n=0;n<a;n++){const a=e.parentNode;if(!a||"BODY"===a.tagName||"HTML"===a.tagName)break;if(a.matches(t))return a;e=a}return n},a=e=>{e.classList.add("is-loading")},n=e=>{e.classList.remove("is-loading")};var s;function i(){const i=document.querySelector(".kirki-settings-page");if(!i)return;let r=!1;const o=kirkiSettings.recommendedPlugins.udb;function c(e,t){const a=document.querySelectorAll(".kirki-install-udb");a.length&&a.forEach((a=>{"disable"===e&&t&&a===t||("button"===a.tagName.toLowerCase()?"disable"===e?a.setAttribute("disabled","disabled"):a.removeAttribute("disabled"):"disable"===e?a.classList.add("is-disabled"):a.classList.remove("is-disabled"))}))}function l(t){r||(r=!0,e(s).ajax({async:!0,type:"GET",url:o.activationUrl,success:function(){d(t,o.redirectUrl)},error:function(e){e.responseJSON&&e.responseJSON.data&&alert(e.responseJSON.data),d(t,"")}}))}function d(e,t){t&&window.location.replace(t),n(e),r=!1,c("enable",e)}document.addEventListener("click",(function(n){const u=t(n.target,".kirki-install-udb");if(!u)return;if(n.preventDefault(),!confirm("This will install and activate the Ultimate Dashboard plugin. Please don't leave this page until the installation is complete. Install now?"))return;!function(t){if(!i)return;if(r)return;!function(e){r=!0,c("disable",e),a(e)}(t);const n=i.dataset.setupUdbNonce?i.dataset.setupUdbNonce:"";e(s).ajax({url:ajaxurl,method:"POST",data:{action:"kirki_prepare_install_udb",nonce:n}}).done((function(e){e.success||(alert(e.data),d(t,"")),e.data.finished?d(t,o.redirectUrl):(r=!1,function(e){if(r)return;r=!0,wp.updates.installPlugin({slug:o.slug,success:function(){r=!1,l(e)},error:function(t){let a=!0;t.errorCode&&t.errorMessage?"folder_exists"===t.errorCode?(console.log("Plugin is already installed before, let's continue activating it."),r=!1,a=!1,l(e)):alert(t.errorMessage):t.responseJSON&&t.responseJSON.data&&alert(t.responseJSON.data),a&&d(e,"")}})}(t))})).fail((function(e){e.responseJSON&&e.responseJSON.data&&alert(e.responseJSON.data),d(t,"")}))}(u)}))}s=jQuery,function(){e(s)(".heatbox-tab-nav-item").on("click",(function(){e(s)(".heatbox-tab-nav-item").removeClass("active"),e(s)(this).addClass("active");const t=this.querySelector("a");if(!t)return;if(-1===t.href.indexOf("#"))return;const a=t.href.substring(t.href.indexOf("#")+1);e(s)(".heatbox-panel-wrapper .heatbox-admin-panel").css("display","none"),e(s)(".heatbox-panel-wrapper .kirki-"+a+"-panel").css("display","block")})),window.addEventListener("load",(function(){let t=window.location.hash.substring(1),a=null;t||(a=document.querySelector(".heatbox-tab-nav-item.active"),a&&a.dataset.tab&&(t=a.dataset.tab),t=t||"settings"),e(s)(".heatbox-tab-nav-item").removeClass("active"),e(s)(".heatbox-tab-nav-item.kirki-"+t+"-panel").addClass("active"),e(s)(".heatbox-panel-wrapper .heatbox-admin-panel").css("display","none"),e(s)(".heatbox-panel-wrapper .kirki-"+t+"-panel").css("display","block")})),i();const t=document.querySelector(".kirki-clear-font-cache-metabox");if(!t)return;var a=t.querySelector(".submission-status");if(!a)return;const n=t.querySelector(".kirki-clear-font-cache");if(!n)return;n.addEventListener("click",(function(e){if(r)return;r=!0;const t=this;t.classList.add("is-loading"),o&&window.clearTimeout(o);o=0;var n={action:"kirki_clear_font_cache",nonce:t.dataset.nonce};jQuery.ajax({url:ajaxurl,type:"POST",data:n}).done((function(e){c(e.success?"success":"error",e.data)})).fail((function(e){c("error","Something went wrong.")})).always((function(e){r=!1,t.classList.remove("is-loading"),o=window.setTimeout((function(){!function(){if(!a)return;a.textContent="",a.classList.remove("is-success"),a.classList.remove("is-error"),a.classList.add("is-hidden")}()}),4e3)}))}));let r=!1,o=0;function c(e,t){a&&(a.textContent=t,a.classList.add("success"===e?"is-success":"is-error"),a.classList.remove("is-hidden"))}}()}();
//# sourceMappingURL=settings.js.map
